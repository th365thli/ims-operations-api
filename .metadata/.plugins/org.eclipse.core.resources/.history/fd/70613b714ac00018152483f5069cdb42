/*********************************************************************************
 * Licensed Materials - Property of IBM
 * 5655-TAC
 * (C) Copyright IBM Corp. 2015 All Rights Reserved. 
 * US Government Users Restricted Rights - Use, duplication or
 * disclosure restricted by GSA ADP Schedule Contract with 
 * IBM Corp.               
 *********************************************************************************/
package com.ibm.ims.ea.om.otma;

import java.util.Map;

import com.ibm.ims.ea.om.common.ImsResource;

public class Otma extends ImsResource {
	
	/**
	 * Constructor helpful in creating an empty bean particularly in areas reflection is used. 
	 * Should be used with ({@link Iconnect#setMap(Map)}
	 */
	public Otma() {
		this.resourceType = ResourceType.OTMA;
	}

	/**
	 * Method creates an instance of the bean given a Map representing the resource from an OM interaction
	 * @param omResourceResponse Map representation for IMS resource such as 
	 * a transaction or database query.
	 * @param properties
	 */
	public Otma(Map<String, String> properties) {
		super(properties);
		this.resourceType = ResourceType.OTMA;
	}

	@Override
	public void setMap(Map<String, String> resourceMap) {
		this.properties = resourceMap;
		this.resourceType = ResourceType.OTMA;
	}

	public String getProperty(OtmaResponseAttribute key){
		return this.properties.get(key.toString());
	}

	/**
	 * IMS Program Output fields that are returned for this resource type. 
	 * Depending on the command some fields when queried will return null.
	 */
	public enum OtmaResponseAttribute {

		GROUP, MEMBER, XCF_STATUS, USER_STATUS, SECURITY, TIB, INPT, SMEM, DRUEXIT, TO, TPCNT,
		ACEEAGE, MAXTP, MBR;


		public String value() {
			return name();
		}

		public static OtmaResponseAttribute fromValue(String v) {
			return valueOf(v);
		}

		@Override
		public String toString(){
			return name();
		}
	}
	
	@Override
	public void setAttribute(String key, String value) {
		this.properties.put(key, value);
	}
	
    /**
     * Statuses returned from DIS OTMA
     */
    public static enum STATUS {
        
       //Status from SECURITY:
        NONE("NONE"),
        CHECK("CHECK"),
        FULL("FULL"),
        PROFILE("PROFILE"),


        //Status from USER-STATUS
        ACCEPT_TRAFFIC("ACCEPT TRAFFIC"),
        DISCONNECTED("DISCONNECTED"),
        IN_SLOWDOWN("IN SLOWDOWN"),
        MAX_TPIPE("MAX TPIPE"),
        SERVER("SERVER"),
        WAIT_BID("WAIT BID"),
        WAIT_RESPONSE("WAIT RESPONSE"),
        
        //This status is displayed for the OTMA DFSYICAL member 
        SYNC_P2P("SYNC P2P"),

        //Status from XCF-STATUS
        ACTIVE("ACTIVE"),
        CREATED("CREATED"),
        FAILED("FAILED"),
        FLOOD("FLOOD"),
        NOT_DEFINED("NOT DEFINED"),
        QUIESCED("QUIESCED"),
        STO_INPUT("STO-INPUT"),
        UNKNOWN("UNKNOWN"),
        SERVER_FLOOD("SERVER+FLOOD"),
        
        //TODO: CHeck with shali where these came from
        SYNC_P2P_FLOOD("SYNC P2P+FLOOD"),
        SMQ_BACKEND("SMQ BACKEND");
        
        private String value = "";

        private STATUS(String val){
            this.value = val;
        }

        private STATUS(){}

        @Override
        public String toString(){
            return this.value;
        }
    }
	

}
